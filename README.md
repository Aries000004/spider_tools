# auth_login_tools
封装授权登陆时的一些通用方法
<pre>

1、session_obj_pickle.py   -- session对象持久化到本地，进行断点调试
2、rsa_encrypt.py    -- rsa 加密相关及前端加密常用函数封装，rsa nopadding封装
3、decorator.py  -- 网络请求的装饰器
4、load_config.py -- 文件加载
5、pressure_test.py  -- 使用gevent压力测试
6、get_machine_info.py   --获取机器参数
7、_requests.py  -- 封装requests相关的一些方法

web抓包工具:Firebug+Httpfox相互补充
	1、Firebug适用普通跳转抓包，全局搜索，js断点跟踪，当前页面跳转抓包
	但window.open(url,"_blank");另起开启新的窗口完成跳转时，Firebug的Presist设置会无效，导致跳转页可能会有丢包的情况
	2、Httpfox功能可视化展示及断点捕捉较Firebug稍微弱一些，但是却可以弥补Firebug在新窗口跳转时捕获所有网络交互包
	


代理模块使用注意点：
     1、判断网站是否在翻页过程中允许切换IP
     2、授权网站的特殊端口限制
     3、网站对单个IP的封禁策略预估
     4、目标网站的特殊代理类型的限制
     5、授权登陆与登陆成功后的代理使用策略的不同
登陆实现方式：
     1、服务端模拟登陆
     2、APP客户端登陆(webview)
     3、APP客户端模拟登陆
     4、web端模拟登陆(可行性待调研)
抓取方式实现:(解析部门均由服务端实现)
     1、服务端登陆、服务端抓取
     2、客户端登陆、服务端抓取
     3、客户端登陆、客户端抓取
     4、客户端模拟登陆、服务端抓取
     5、web端模拟登陆、服务端抓取(待调研)
存储模块：
     所有抓取模块统一调度，作为独立模块拆出
     1、已清洗数据入库前校验及二次处理(加密等)
     2、接口调用前的逻辑整合
     注意点：
          (1)各抓取方向存储模块设计时必须技术评审
          (2)分表、分库以及数据库自动扩展的可行性、合理性
          (3)model层单独对应一个表结构的相关读写逻辑，尽量避免多表操作混到一个model中
          (4)涉及业务逻辑较为复杂时，可以抽离出service层
          (5)controller层尽量不做太复杂的逻辑处理，一个模块尽量合并到一个controller中
          (6)代码层减少硬编码，抽离出统一的校验及处理方法，减少重复工作
数据监控(邮件报警+短信报警)：
     0、服务存活监控
     1、登陆比监控(不同抓取通道,自动切换)
     2、抓取完整率监控
     3、解析准确率监控，新模板自动发现(代码层+人工review)
     4、各抓取模块更细颗粒度监控(尝试抓取登陆号码数,成功登陆号码数;提交验证码数,验证成功号码数;开始抓取号码数,抓取成功号码数;号码登陆成功率，号码抓取成功率，开始抓取成功率，整体转化率)
</pre>